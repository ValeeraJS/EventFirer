<script src="../build/EventDispatcher.js"></script>
<script>
	/* eslint-disable no-undef */
	/* eslint-disable @typescript-eslint/explicit-member-accessibility */
	class Animal {
		isAnimal = true;
	}

	class Car extends EventDispatcher.mixin(Animal) {
		start = () => {
			this.fire("car-a", { message: "aaa" });
			this.fire("car-b", { message: "bbb" });
			this.fire("car-c", { message: "ccc" });
			this.fire("bus-1", { message: "111" });
			this.fire("bus-2", { message: "222" });
		};
	}

	const car = new Car();

	car.on("car-a", function (event) {
		console.log("on: ", event.target.message);
	})
		.filt(
			(type) => {
				return type.indexOf("car") > -1;
			},
			(event) => {
				console.log("filt: ", event.target.message);
			}
		)
		.all((event) => {
			console.log("all: ", event.target.message);
		});

	car.start();
</script>
